{"version":3,"sources":["style/Author.module.css","style/Pagination.module.css","style/Search.module.css","style/AuthorList.module.css","components/Search.js","img/medals/1st.svg","img/medals/2nd.svg","img/medals/3rd.svg","components/Author.js","components/AuthorList.js","components/common/Pagination.js","App.js","index.js"],"names":["module","exports","Search","search","handleChange","className","style","form","searchInput","type","placeholder","value","onChange","Author","name","count_pub","pageviews","position","iconColor","author","authorIncrement","authorIcon","background","authorInfo","authorName","authorPublications","medal","src","medal1tPlace","alt","medal2Place","medal3Place","authorViews","AuthorList","currentAuthors","authorList","map","index","Pagination","currentPage","nextArrow","prevArrow","lastPage","totalAuthors","authorPerPage","pagination","href","leftArrow","onClick","length","rightArrow","App","useState","sortedAuthors","setSortedAuthors","setSearch","searchResult","setSearchResult","setCurrentPage","sortType","setSortType","data","sort","a","b","forEach","id","Math","floor","random","toString","useEffect","sortProperty","sorted","localeCompare","sortAuthors","filter","toLowerCase","includes","console","log","indexOfLastAuthor","indexOfFirstAuthor","slice","totalAuthorsCount","numOfPages","ceil","e","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d8bf43c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"author\":\"Author_author__3nVGV\",\"authorIncrement\":\"Author_authorIncrement__1sHRP\",\"authorIcon\":\"Author_authorIcon__lK2Gr\",\"authorInfo\":\"Author_authorInfo__2R3e9\",\"authorName\":\"Author_authorName__2L2RC\",\"authorPublications\":\"Author_authorPublications__3ZB8v\",\"medal\":\"Author_medal__3vpNc\",\"authorViews\":\"Author_authorViews__3WbSz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1mflx\",\"leftArrow\":\"Pagination_leftArrow__3A-5F\",\"rightArrow\":\"Pagination_rightArrow__21Fvc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__i-RgZ\",\"form\":\"Search_form__FNh5D\",\"searchInput\":\"Search_searchInput__2KAZ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authorList\":\"AuthorList_authorList__3zTDP\"};","import style from '../style/Search.module.css'\r\n\r\nconst Search = ({search, handleChange}) => {\r\n    return (\r\n        <div className={style.search}>\r\n            <form className={style.form}>\r\n                <input className={style.searchInput}\r\n                       type='text'\r\n                       placeholder='Поиск автора по имени'\r\n                       value={search}\r\n                       onChange={handleChange}\r\n                />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","export default __webpack_public_path__ + \"static/media/1st.46dbd8e4.svg\";","export default __webpack_public_path__ + \"static/media/2nd.10234245.svg\";","export default __webpack_public_path__ + \"static/media/3rd.131d1c6a.svg\";","import style from '../style/Author.module.css';\r\nimport medal1tPlace from '../img/medals/1st.svg';\r\nimport medal2Place from '../img/medals/2nd.svg';\r\nimport medal3Place from '../img/medals/3rd.svg';\r\n\r\nconst Author = ({name, count_pub, pageviews, position, iconColor}) => {\r\n    return (\r\n        <li className={style.author}>\r\n            <div className={style.authorIncrement}>{position}</div>\r\n            <div className={style.authorIcon} style={{background: `${iconColor}`}}>{name[0]}</div>\r\n            <div className={style.authorInfo}>\r\n                <div className={style.authorName}>{name}</div>\r\n                <div className={style.authorPublications}>{count_pub} публ.</div>\r\n            </div>\r\n            <div className={style.medal}>\r\n                {position === 1 ? <img src={medal1tPlace} alt=\"\"/> : ''}\r\n                {position === 2 ? <img src={medal2Place} alt=\"\"/> : ''}\r\n                {position === 3 ? <img src={medal3Place} alt=\"\"/> : ''}\r\n            </div>\r\n            <div className={style.authorViews}>{pageviews}</div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Author;","import React from 'react';\r\nimport style from '../style/AuthorList.module.css';\r\nimport Author from './Author';\r\n\r\nconst AuthorList = ({currentAuthors}) => {\r\n    return (\r\n        <ol className={style.authorList}>\r\n            {currentAuthors.map((author, index) => {\r\n\r\n                return <Author key={index} {...author}/>\r\n            })}\r\n        </ol>\r\n    )\r\n}\r\n\r\nexport default AuthorList;","import style from '../../style/Pagination.module.css'\r\n\r\nconst Pagination = ({currentPage, nextArrow, prevArrow, lastPage, currentAuthors, totalAuthors, authorPerPage}) => {\r\n    return (\r\n        <>\r\n            <nav>\r\n                <ul className={style.pagination}>\r\n                    <div className={style.pagination}>\r\n                        {currentPage !== 1 ?\r\n                            <a href=\"#\" className={style.leftArrow} onClick={prevArrow}> </a> : ''}\r\n                        <span>\r\n                            {currentPage !== lastPage()\r\n                                ? (currentPage * authorPerPage - authorPerPage) + 1\r\n                                : (totalAuthors - currentAuthors.length) + 1} <span> - </span>\r\n                            {currentPage !== lastPage()\r\n                                ? currentAuthors.length * currentPage\r\n                                : totalAuthors}\r\n                        </span>\r\n                        {currentPage !== lastPage() ?\r\n                            <a href=\"#\" className={style.rightArrow} onClick={nextArrow}> </a> : ''}\r\n                    </div>\r\n                </ul>\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React, {useEffect, useState} from 'react';\nimport Search from './components/Search';\nimport AuthorList from './components/AuthorList';\nimport './App.css';\nimport data from './data/data.json';\nimport Pagination from './components/common/Pagination';\n\nconst App = () => {\n    const [sortedAuthors, setSortedAuthors] = useState([]);\n    const [search, setSearch] = useState('');\n    const [searchResult, setSearchResult] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [authorPerPage] = useState(10);\n    const [sortType, setSortType] = useState('pageviews');\n\n    sortByPageView();\n\n    useEffect(() => {\n        const sortAuthors = type => {\n            const types = {\n                name: 'name',\n                pageviews: 'pageviews'\n            };\n            const sortProperty = types[type];\n\n            if (type === 'name') {\n                const sorted = [...data].sort((a,b) => a[sortProperty].localeCompare(b[sortProperty]));\n                setSortedAuthors(sorted);\n            }\n            if (type === 'pageviews') {\n                const sorted = [...data].sort((a, b) => b[sortProperty] - a[sortProperty]);\n                setSortedAuthors(sorted);\n            }\n        }\n\n        sortAuthors(sortType);\n    }, [sortType])\n\n    useEffect(() => {\n        setSearchResult(author => {\n                return data.filter(author => author.name.toLowerCase().includes(search.toLowerCase()));\n            }\n        )\n    }, [search, data])\n\n    console.log('authors ', sortedAuthors)\n\n    // Get current author\n    const indexOfLastAuthor = currentPage * authorPerPage;\n    const indexOfFirstAuthor = indexOfLastAuthor - authorPerPage;\n    const currentAuthors = sortedAuthors.slice(indexOfFirstAuthor, indexOfLastAuthor);\n    const totalAuthorsCount = data.length;\n\n    function sortByPageView() {\n        data.sort((a, b) => b.pageviews - a.pageviews)\n            .forEach((author, id) => {\n                author.position = id + 1;\n                author.iconColor = randomHex();\n            })\n    }\n\n    function prevArrow() {\n        if (currentPage > 1) {\n            setCurrentPage(currentPage - 1)\n        }\n    }\n\n    function nextArrow() {\n        if (currentPage < numOfPages()) {\n            setCurrentPage(currentPage + 1)\n        }\n    }\n\n    function numOfPages() {\n        return Math.ceil(totalAuthorsCount / authorPerPage)\n    }\n\n    function randomHex() {\n        return '#' + Math.floor(Math.random() * 16777215).toString(16);\n    }\n\n    const handleChange = e => {\n        setSearch(e.target.value);\n    }\n\n    return (\n        <div className='app'>\n            <select onChange={e => setSortType(e.target.value)}>\n                <option value='pageviews'>by pageviews</option>\n                <option value='name'>by name</option>\n            </select>\n            <div className='container'>\n                <main className='main'>\n                    <Search search={search}\n                            handleChange={handleChange}\n                            searchResult={searchResult}\n                    />\n                    <AuthorList currentAuthors={search ? searchResult : currentAuthors}/>\n                </main>\n            </div>\n            <Pagination currentPage={currentPage}\n                        authorPerPage={authorPerPage}\n                        currentAuthors={currentAuthors}\n                        totalAuthors={data.length}\n                        prevArrow={prevArrow}\n                        nextArrow={nextArrow}\n                        lastPage={numOfPages}\n            />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}